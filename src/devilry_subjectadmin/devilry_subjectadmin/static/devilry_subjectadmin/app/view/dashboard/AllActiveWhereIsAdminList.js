Ext.define('devilry_subjectadmin.view.dashboard.AllActiveWhereIsAdminList' ,{
    extend: 'Ext.Component',
    alias: 'widget.allactivewhereisadminlist',
    cls: 'devilry_subjectadmin_allactivewhereisadminlist bootstrap',
    tpl: [
        '<tpl if="loadingtext">',
            '<h2>{loadingtext}</h2>',
        '<tpl else>',
            '<h1>',
                gettext('Adminster'), ':',
            '</h1>',
            '<ul class="unstyled">',
            '<tpl for="subjects">',
                '<tpl for="data.periods">',
                    '<tpl exec="values.subject = parent.data;"></tpl>',
                    '<li>',
                        '<tpl if="can_administer">',
                            '<p>',
                                '<strong><a href="#/period/{id}/">',
                                    '{subject.long_name}',
                                '</a></strong>',
                                '<tpl if="subject.periods.length &gt; 1">',
                                    '<small class="muted"> - {long_name}</small>',
                                '</tpl>',
                            '</p>',
                        '<tpl else>',
                            '<tpl for="assignments">',
                                '<li><p>',
                                    '<strong><a href="#/assignment/{id}/">',
                                        '{parent.subject.short_name} - ',
                                        '{long_name}',
                                    '</a></strong>',
                                    '<tpl if="subject.periods.length &gt; 1">',
                                        '<small class="muted"> - {parent.long_name}</small>',
                                    '</tpl>',
                                '</p></li>',
                            '</tpl>',
                        '</tpl>',
                    '</li>',
                '</tpl>',
                '</ul>',
            '</tpl>',
            '</ul>',
        '</tpl>'
    ],

    data: {
        loadingtext: gettext('Loading') + ' ...'
    }
});
