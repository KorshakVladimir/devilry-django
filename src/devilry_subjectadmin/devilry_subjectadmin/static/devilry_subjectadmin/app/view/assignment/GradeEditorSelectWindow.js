Ext.define('devilry_subjectadmin.view.assignment.GradeEditorSelectWindow', {
    extend: 'devilry_extjsextras.AutoSizedWindow',
    alias: 'widget.gradeeditorselectwindow',
    cls: 'devilry_subjectadmin_gradeeditorselect bootstrap',
    requires: [
        'devilry_extjsextras.SaveButton',
        'devilry.gradeeditors.GradeEditorSelector'
    ],

    initComponent: function() {
        Ext.apply(this, {
            layout: 'fit',
            width: 800,
            height: 500,
            closable: false,
            modal: true,
            title: gettext('Select grade editor'),
            items: {
                xtype: 'form',
                bodyPadding: 20,
                autoScroll: true,
                border: 0,
                layout: 'anchor',
                defaults: {
                    anchor: '100%'
                },
                items: [{
                    name: 'gradeeditorid',
                    fieldLabel: gettext("Select a grade editor"),
                    labelAlign: 'top',
                    labelWidth: 200,
                    labelStyle: 'font-weight:bold',
                    xtype: 'gradeeditorselector',
                    listConfig: {
                        getInnerTpl: function() {
                            return [
                                '<div class="bootstrap gradeeditorselector">',
                                    '<div class="title"><strong>{title}</strong></div>',
                                    '<div class="description">{description}</div>',
                                '</div>'
                            ].join('');
                        }
                    }
                }, {
                    xtype: 'box',
                    margin: '20 0 0 0',
                    cls: 'bootstrap',
                    html: [
                        '<p>',
                            gettext('A <strong>grade editor</strong> is what examiners use to give feedback to students.'),
                        '</p>',

                        '<p>', gettext('Internally in Devilry, a grade is'), ':</p>',
                        '<ul>',
                            '<li>',
                                gettext('The number of points. Any grade in Devilry is represented as a number, however this number is mainly statistics and to calculate final grades.'),
                            '</li>',
                            '<li>',
                                gettext('A very short text that students view. Usually something like: <em>Approved</em>, <em>B</em> or <em>7/10</em>.'),
                            '</li>',
                            '<li>',
                                gettext('A longer text that students can view. This is usually the detailed feedback text, however some grade editors also fill this with autogenerated information based on input from examiners.'),
                            '</li>',
                        '</ul>',

                        '<p>',
                            gettext('To make it easy for examiners to create all the information related to a <em>grade</em>, Devilry use <em>grade editors</em>. Grade editors give examiners a unified user-interface tailored for different kinds of grading systems.'),
                        '</p>'
                    ].join('')
                }],
                buttons: ['->', {
                    xtype: 'cancelbutton'
                }, {
                    xtype: 'savebutton'
                }]
            }
        });
        this.callParent(arguments);
    }
});
