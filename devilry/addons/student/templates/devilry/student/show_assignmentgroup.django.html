{% extends "devilry/student/base.django.html" %}
{% comment %} vim: set ts=2 sts=2 et sw=2: {% endcomment %}
{% load i18n %}

{% block title %}{{ assignment_group.parentnode }}{% endblock %}
{% block heading %}{{ assignment_group.parentnode }}{% endblock %}

{% block breadcrumbs %}
{{ block.super }}

<li><a href='{% url devilry-student-show_history %}'>{% trans "History" %}</a></li>
<li>::</li>
<li>{{ assignment_group.parentnode }}</li>
{% endblock %}


{% block content %}

<table class='vertical_infotable'>
  <tr>
    <th>{% trans "Deadline" %}:</th>
    <td>{{ assignment_group.parentnode.deadline }}</td>
  </tr>
  <tr>
    <th>{% trans "Status" %}:</th>
    <td>{{ assignment_group.get_status }}</td>
  </tr>

  {% if assignment_group.get_grade %}
  <tr>
    <th>{% trans "Grade" %}:</th>
    <td>{{ assignment_group.get_grade }}</td>
  </tr> 
  {% endif %}

  {% if assignment_group.students.count > 1 %}
    <tr>
      <th>{% trans "Group members" %}:</th>
      <td>{{ assignment_group.students.all|join:", " }} </td>
    </tr>
  {% endif %}
</table>


<h2>Deliveries</h2>
{% if assignment_group.deliveries.all.count == 0 %}
  <p>{% trans "No deliveries" %}</p>
{% else %}
  <ul>
  {% for delivery in assignment_group.deliveries.all %}
    <li>
      <a href='{% url devilry-student-show_delivery delivery.id %}'>
        {{ delivery.time_of_delivery }}
      </a>
    </li>
  {% endfor %}
  </ul>
{% endif %}

{% endblock %}
