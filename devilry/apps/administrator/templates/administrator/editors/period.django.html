{% extends "theme/base.django.html" %}
{% load extjs %}
{% load i18n %}

{% block headextra %}

<script>
    {{ RestfulSimplifiedPeriod|extjs_model }}
    var periodstore = {{ RestfulSimplifiedPeriod|extjs_store }}
    //periodstore.load();


    Ext.onReady(function() {
        var mainlayout = Ext.create('devilry.extjshelpers.RestfulSimplifiedLayout', {
            id: 'maincarddeck',
            renderTo: 'maincarddeck-wrapper',
            supports_delete: {{ RestfulSimplifiedPeriod.supports_delete|yesno:"true,false" }},
            model: {{ RestfulSimplifiedPeriod|get_extjsname_from_class}},
            editformitems: {{ RestfulSimplifiedPeriod|extjs_form_items}}
        });
        mainlayout.loadMode('{{ initial_mode }}', {{ record_id|default_if_none:"null" }});
    });
</script>
{% endblock %}


{% block main %}
<div id='maincarddeck-wrapper'></div>
{% endblock %}
