{% extends "devilry/theme/base.html" %}
{% load extjs %}

{% block title %}Devilry gui demo{% endblock %}

{% block headextra %}
    <script type="text/javascript">
        function comboBox() {
            // Create the extjs model (generated from the django datamodel)
            {{ RestStatConfig|extjs_model }}

            // Crate the extjs store (generated from the REST config)
            var store = {{ RestStatConfig|extjs_store }}

            // Create the chart
            var chart = Ext.create('devilry.tutorialstats.BarChart', 'graph');
            //chart.refresh('/tutorialstats/restperiodpoints/1');

            // Create the config selector
            var configSelector = Ext.create('devilry.tutorialstats.ConfigSelector', store, 'simpleCombo', chart);
        }

        Ext.require('devilry.tutorialstats.ConfigSelector');
        Ext.onReady(function() {
            comboBox();
        });
    </script>
{% endblock %}

{% block main %}
    <div id="simpleCombo"></div>
    <div id="graph"></div>
{% endblock %}
