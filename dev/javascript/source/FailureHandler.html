<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">Ext.define('devilry.gradeeditors.FailureHandler', {
    statics: {
        onFailure: function(records, operation) {
            var title = 'Failed to save!';
            var msg = 'Please try again';
            var icon = Ext.Msg.ERROR;
            if(operation.error.status === 0) {
                title = 'Server error';
                msg = 'Could not contact the server. Please try again.';
            } else if(operation.error.status === 400) {
                title = 'Failed to save!';
                msg = operation.responseData.items.errormessages[0];
                icon = Ext.Msg.WARNING;
            }
            Ext.MessageBox.show({
                title: title,
                msg: msg,
                buttons: Ext.Msg.OK,
                icon: icon,
                closable: false
            });
        }
    }
});
</pre>
</body>
</html>
