<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">Ext.define('devilry.extjshelpers.page.Header', {
    extend: 'Ext.panel.Panel',
    alias: 'widget.pageheader',
    bodyStyle: 'background-color: transparent !important',
    border: false,
    margins: '0 0 0 0',
    height: 90,
    //autoHeight: true,

    bodyTpl: Ext.create('Ext.XTemplate',
        '&lt;div class=&quot;header&quot;&gt;',
        '    &lt;div id=&quot;heading&quot;&gt;',
        '        &lt;h1&gt;Devilry&lt;/h1&gt;',
        '        &lt;div id=&quot;authenticated-user-bar&quot;&gt;',
        '            &lt;tpl if=&quot;DevilryUser.is_authenticated&quot;&gt;',
        '                &lt;span id=&quot;authenticated-user-info&quot;&gt;',
        '                    {DevilryUser.username}',
        '                &lt;/span&gt;',
        '                | &lt;a class=&quot;loginout-link&quot; href=&quot;{DevilrySettings.DEVILRY_LOGOUT_URL}&quot;&gt;Log out&lt;/a&gt;',
        '            &lt;/tpl&gt;',
        '            &lt;tpl if=&quot;!DevilryUser.is_authenticated&quot;&gt;',
        '                &lt;a class=&quot;loginout-link&quot; href=&quot;{DevilrySettings.DEVILRY_LOGIN_URL}&quot;&gt;Log in&lt;/a&gt;',
        '            &lt;/tpl&gt;',
        '        &lt;/div&gt;',
        '    &lt;/div&gt;',
        '    &lt;div class=&quot;nav {navclass}&quot;&gt;',
        '        &lt;ul&gt;',
        '            &lt;li class=&quot;student-navitem&quot;&gt;&lt;a href=&quot;{DevilrySettings.DEVILRY_URLPATH_PREFIX}/student/&quot;&gt;Student&lt;/a&gt;&lt;/li&gt;',
        '            &lt;li class=&quot;examiner-navitem&quot;&gt;&lt;a href=&quot;{DevilrySettings.DEVILRY_URLPATH_PREFIX}/examiner/&quot;&gt;Examiner&lt;/a&gt;&lt;/li&gt;',
        '            &lt;li class=&quot;administrator-navitem&quot;&gt;&lt;a href=&quot;{DevilrySettings.DEVILRY_URLPATH_PREFIX}/administrator/&quot;&gt;Administrator&lt;/a&gt;&lt;/li&gt;',
        '            &lt;li class=&quot;externallink-navitem&quot;&gt;&lt;a href=&quot;{DevilrySettings.DEVILRY_HELP_URL}&quot; target=&quot;_blank&quot;&gt;Help&lt;/a&gt;&lt;/li&gt;',
        '        &lt;/ul&gt;',
        '    &lt;/div&gt;',
        '&lt;/div&gt;'
    ),

    config: {
        navclass: ''
    },

    constructor: function(config) {
        this.initConfig(config);
        this.callParent([config]);
    },

    initComponent: function() {
        this.html = this.bodyTpl.apply({
            navclass: this.navclass,
            DevilrySettings: DevilrySettings,
            DevilryUser: DevilryUser
        });
        this.callParent(arguments);
    }
});
</pre>
</body>
</html>
